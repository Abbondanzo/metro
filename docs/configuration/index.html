<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44373548-17"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-44373548-17",{})</script>
<script src="https://buttons.github.io/buttons.js"></script>

<title data-react-helmet="true">Configuring Metro | Metro</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Metro"><meta data-react-helmet="true" property="og:image" content="https://facebook.github.io/metro/img/opengraph.png"><meta data-react-helmet="true" property="twitter:image" content="https://facebook.github.io/metro/img/opengraph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Metro"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="A Metro config can be created in these three ways (ordered by priority):"><meta data-react-helmet="true" property="og:description" content="A Metro config can be created in these three ways (ordered by priority):"><meta data-react-helmet="true" property="og:url" content="https://facebook.github.io/metro/docs/configuration">

<link data-react-helmet="true" rel="shortcut icon" href="/metro/img/favicon.png">


<link rel="stylesheet" href="/metro/styles.f35e0fda.css">


<link rel="preload" href="/metro/styles.0a5cfff3.js" as="script">

<link rel="preload" href="/metro/runtime~main.b7bebeca.js" as="script">

<link rel="preload" href="/metro/main.45dbcf7f.js" as="script">

<link rel="preload" href="/metro/common.af8ae9f7.js" as="script">

<link rel="preload" href="/metro/2.76f40423.js" as="script">

<link rel="preload" href="/metro/3.458078c5.js" as="script">

<link rel="preload" href="/metro/1be78505.43631cc6.js" as="script">

<link rel="preload" href="/metro/6ff30275.511f9ef1.js" as="script">

<link rel="preload" href="/metro/17896441.ad6804dc.js" as="script">

<link rel="preload" href="/metro/ba2a2799.a3f9acfe.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/metro/"><img class="navbar__logo" src="/metro/img/metro.svg" alt="Metro Logo"><strong>Metro</strong></a><a class="navbar__item navbar__link" href="/metro/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/metro/docs/api">API</a><a class="navbar__item navbar__link" href="/metro/help">Help</a><a class="navbar__item navbar__link" href="/metro/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/MetroBundler">Twitter</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/metro">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/metro/"><img class="navbar__logo" src="/metro/img/metro.svg" alt="Metro Logo"><strong>Metro</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/metro/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/docs/api">API</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/help">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/MetroBundler">Twitter</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/metro">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/metro/img/metro.svg" alt="Metro Logo"><strong>Metro</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/metro/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/docs/concepts">Concepts</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/docs/bundling">Bundling</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/docs/caching">Caching</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/metro/docs/api">API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/metro/docs/configuration">Configuring Metro</a></li><li class="menu__list-item"><a class="menu__link" href="/metro/docs/cli">Metro CLI Options</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/metro/docs/troubleshooting">Troubleshooting</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Configuring Metro</h1></header><div class="markdown"><p>A Metro config can be created in these three ways (ordered by priority):</p><ol><li><code>metro.config.js</code></li><li><code>metro.config.json</code></li><li>The <code>metro</code> field in <code>package.json</code></li></ol><p>You can also give a custom file to the configuration by specifying <code>--config &lt;path/to/config&gt;</code> when calling the CLI.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuration-structure"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration-structure" title="Direct link to heading">#</a>Configuration Structure</h2><p>The configuration is based on <a href="/metro/docs/concepts">our concepts</a>, which means that for every module we have a separate config option. A common configuration structure in Metro looks like this:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  resolver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  transformer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  serializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="general-options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#general-options" title="Direct link to heading">#</a>General Options</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cachestores"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cachestores" title="Direct link to heading">#</a><code>cacheStores</code></h4><p>Type: <code>Array&lt;CacheStore&lt;TransformResult&lt;&gt;&gt;</code></p><p>List where we store our <a href="/metro/docs/caching">caches</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cacheversion"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cacheversion" title="Direct link to heading">#</a><code>cacheVersion</code></h4><p>Type: <code>string</code></p><p>Can be used to generate a key that will invalidate the whole metro cache.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="projectroot"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#projectroot" title="Direct link to heading">#</a><code>projectRoot</code></h4><p>Type: <code>string</code></p><p>The root folder of your project.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="watchfolders"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#watchfolders" title="Direct link to heading">#</a><code>watchFolders</code></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>Specify any additional (to projectRoot) watch folders, this is used to know which files to watch.
(By default the file watching is disabled in CI environments. Also it can be manually disabled by setting the env variable <code>CI=true</code>)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="transformerpath"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#transformerpath" title="Direct link to heading">#</a><code>transformerPath</code></h4><p>Type: <code>string</code></p><p>The path to the transformer to use.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="reporter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reporter" title="Direct link to heading">#</a><code>reporter</code></h4><p>Type: <code>{update: () =&gt; void}</code></p><p>Used to report the status of the bundler during the bundling process.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="resetcache"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resetcache" title="Direct link to heading">#</a><code>resetCache</code></h4><p>Type: <code>boolean</code></p><p>Whether we should reset the cache when starting the build.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="stickyworkers"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#stickyworkers" title="Direct link to heading">#</a><code>stickyWorkers</code></h4><p>Type: <code>boolean</code></p><p>Control whether the created workers should stick based on filename or not.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="maxworkers"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#maxworkers" title="Direct link to heading">#</a><code>maxWorkers</code></h4><p>Type: <code>number</code></p><p>The number of workers we should parallelize the transformer on.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="server-options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#server-options" title="Direct link to heading">#</a>Server Options</h3><p>These options are used when Metro serves the content.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="port"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#port" title="Direct link to heading">#</a><code>port</code></h4><p>Type: <code>number</code></p><p>Which port to listen on.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="useglobalhotkey"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#useglobalhotkey" title="Direct link to heading">#</a><code>useGlobalHotkey</code></h4><p>Type: <code>boolean</code></p><p>Whether we should enable CMD+R hotkey for refreshing the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="enhancemiddleware"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#enhancemiddleware" title="Direct link to heading">#</a><code>enhanceMiddleware</code></h4><p>Type: <code>(Middleware, Server) =&gt; Middleware</code></p><p>The possibility to add custom middleware to the server response chain.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="runinspectorproxy"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#runinspectorproxy" title="Direct link to heading">#</a><code>runInspectorProxy</code></h4><p>Type: <code>boolean</code> (default: <code>true</code>)</p><p>Run Inspector Proxy server inside Metro to be able to inspect React Native code.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="transformer-options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#transformer-options" title="Direct link to heading">#</a>Transformer Options</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="asyncrequiremodulepath"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#asyncrequiremodulepath" title="Direct link to heading">#</a><code>asyncRequireModulePath</code></h4><p>Type: <code>string</code></p><p>What module to use for handling async requires.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="babeltransformerpath"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#babeltransformerpath" title="Direct link to heading">#</a><code>babelTransformerPath</code></h4><p>Type: <code>string</code></p><p>Use a custom babel transformer (only relevant when using the default transformerPath).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dynamicdepsinpackages"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dynamicdepsinpackages" title="Direct link to heading">#</a><code>dynamicDepsInPackages</code></h4><p>Type: <code>string</code> (<code>throwAtRuntime</code> or <code>reject</code>)</p><p>What should happen when a dynamic dependency is found.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="enablebabelrclookup"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#enablebabelrclookup" title="Direct link to heading">#</a><code>enableBabelRCLookup</code></h4><p>Type: <code>boolean</code> (default: <code>true</code>)</p><p>Whether we should use the <code>.babelrc</code> config file.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="enablebabelruntime"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#enablebabelruntime" title="Direct link to heading">#</a><code>enableBabelRuntime</code></h4><p>Type: <code>boolean</code> (default: <code>true</code>)</p><p>Whether the transformer should use the <code>@babel/transform/runtime</code> plugin.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="gettransformoptions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#gettransformoptions" title="Direct link to heading">#</a><code>getTransformOptions</code></h4><p>Type: <code>GetTransformOptions</code></p><p>Get the transform options.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="postminifyprocess"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#postminifyprocess" title="Direct link to heading">#</a><code>postMinifyProcess</code></h4><p>Type: <code>PostMinifyProcess</code></p><p>What happens after minification.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="minifierpath"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#minifierpath" title="Direct link to heading">#</a><code>minifierPath</code></h4><p>Type: <code>string</code></p><p>Path to the minifier that minifies the code after transformation.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="minifierconfig"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#minifierconfig" title="Direct link to heading">#</a><code>minifierConfig</code></h4><p>Type: <code>{[key: string]: mixed}</code></p><p>Configuration object that will be passed to the minifier (it should be serializable).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="optimizationsizelimit"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#optimizationsizelimit" title="Direct link to heading">#</a><code>optimizationSizeLimit</code></h4><p>Type: <code>number</code></p><p>Define a threshold (in bytes) to disable some expensive optimizations for big files.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="react-native-only"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#react-native-only" title="Direct link to heading">#</a>React Native Only</h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="assetplugins"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#assetplugins" title="Direct link to heading">#</a><code>assetPlugins</code></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>List of modules to call to modify Asset data</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="assetregistrypath"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#assetregistrypath" title="Direct link to heading">#</a><code>assetRegistryPath</code></h4><p>Type: <code>string</code></p><p>Where to fetch the assets from.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="resolver-options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resolver-options" title="Direct link to heading">#</a>Resolver Options</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="assetexts"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#assetexts" title="Direct link to heading">#</a><code>assetExts</code></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>An array of asset extensions to include in the bundle. For example, if you would give <code>[&#x27;ttf&#x27;]</code> you would be able to include <code>.ttf</code> files in the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sourceexts"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sourceexts" title="Direct link to heading">#</a><code>sourceExts</code></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>An array of source extensions to include in the bundle. For example, if you would give <code>[&#x27;ts&#x27;]</code> you would be able to include <code>.ts</code> files in the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="resolvermainfields"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resolvermainfields" title="Direct link to heading">#</a><code>resolverMainFields</code></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>Specify the fields in package.json files that will be used by the module resolver to do redirections when requiring certain packages. For example, using <code>[&#x27;browser&#x27;, &#x27;main&#x27;]</code> will use the <code>browser</code> field if it exists and will default to <code>main</code> if it doesn&#x27;t.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="extranodemodules"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#extranodemodules" title="Direct link to heading">#</a><code>extraNodeModules</code></h4><p>Type: <code>{[name:string]:string}</code></p><p>Which other <code>node_modules</code> to include besides the ones relative to the project directory. This is keyed by dependency name.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="resolverequest"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resolverequest" title="Direct link to heading">#</a><code>resolveRequest</code></h4><p>Type: <code>?CustomResolver</code></p><p>An optional function used to resolve requests. Ignored when the request can be resolved through Haste.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="usewatchman"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#usewatchman" title="Direct link to heading">#</a><code>useWatchman</code></h4><p>Type: <code>boolean</code></p><p>If set to <code>false</code>, it&#x27;ll prevent Metro from using watchman (even if it&#x27;s installed)</p><p>These options are only useful with React Native projects.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="blacklistre"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#blacklistre" title="Direct link to heading">#</a><code>blacklistRE</code></h4><p>Type: <code>RegExp</code></p><p>A RegEx defining which paths to ignore.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="hasteimplmodulepath"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#hasteimplmodulepath" title="Direct link to heading">#</a><code>hasteImplModulePath</code></h4><p>Type: <code>string</code></p><p>The path to the haste resolver.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="platforms"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#platforms" title="Direct link to heading">#</a><code>platforms</code></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>Additional platforms to look out for, For example, if you want to add a &quot;custom&quot; platform, and use modules ending in .custom.js, you would return [&#x27;custom&#x27;] here.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="serializer-options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#serializer-options" title="Direct link to heading">#</a>Serializer Options</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="getrunmodulestatement"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getrunmodulestatement" title="Direct link to heading">#</a><code>getRunModuleStatement</code></h4><p>Type: <code>(number</code> | <code>string) =&gt; string</code></p><p>Specify the format of the initial require statements that are appended at the end of the bundle. By default is <code>__r(${moduleId});</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="createmoduleidfactory"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#createmoduleidfactory" title="Direct link to heading">#</a><code>createModuleIdFactory</code></h4><p>Type: <code>() =&gt; (path: string) =&gt; number</code></p><p>Used to generate the module id for <code>require</code> statements.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="getpolyfills"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getpolyfills" title="Direct link to heading">#</a><code>getPolyfills</code></h4><p>Type: <code>({platform: ?string}) =&gt; $ReadOnlyArray&lt;string&gt;</code></p><p>An optional list of polyfills to include in the bundle. The list defaults to a set of common polyfills for Number, String, Array, Object...</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="postprocessbundlesourcemap"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#postprocessbundlesourcemap" title="Direct link to heading">#</a><code>postProcessBundleSourcemap</code></h4><p>Type: <code>PostProcessBundleSourcemap</code></p><p>An optional function that can modify the code and source map of the bundle before it is written. Applied once for the entire bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="getmodulesrunbeforemainmodule"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getmodulesrunbeforemainmodule" title="Direct link to heading">#</a><code>getModulesRunBeforeMainModule</code></h4><p>Type: <code>(entryFilePath: string) =&gt; Array&lt;string&gt;</code></p><p>An array of modules to be required before the entry point. It should contain the absolute path of each module. Note that this will add the additional require statements only if the passed modules are already included as part of the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="processmodulefilter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#processmodulefilter" title="Direct link to heading">#</a><code>processModuleFilter</code></h4><p>Type: <code>(module: Array&lt;Module&gt;) =&gt; boolean</code></p><p>A filter function to discard specific modules from the output.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="merging-configurations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#merging-configurations" title="Direct link to heading">#</a>Merging Configurations</h2><p>Using the <code>metro-config</code> package it is possible to merge multiple configurations together.</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>mergeConfig(...configs): MergedConfig</code></td><td>Returns the merged configuration of two or more configuration objects.</td></tr></tbody></table><blockquote><p><strong>Note:</strong> Arrays and function based config parameters do not deeply merge and will instead override any pre-existing config parameters.
This allows overriding and removing default config parameters such as <code>platforms</code> or <code>getModulesRunBeforeMainModule</code> that may not be required in your environment.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="merging-example"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#merging-example" title="Direct link to heading">#</a>Merging Example</h4><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// metro.config.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> mergeConfig </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;metro-config&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> configA </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  resolver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  transformer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  serializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> configB </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  resolver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  transformer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  serializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mergeConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">configA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> configB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/metro/edit/master/website/../docs/Configuration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metro/docs/api"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« API</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metro/docs/cli"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Metro CLI Options »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#configuration-structure" class="contents__link">Configuration Structure</a><ul><li><a href="#general-options" class="contents__link">General Options</a></li><li><a href="#server-options" class="contents__link">Server Options</a></li><li><a href="#transformer-options" class="contents__link">Transformer Options</a></li><li><a href="#resolver-options" class="contents__link">Resolver Options</a></li><li><a href="#serializer-options" class="contents__link">Serializer Options</a></li></ul></li><li><a href="#merging-configurations" class="contents__link">Merging Configurations</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metro/docs/getting-started">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/metro/docs/api">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/metrojs">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/MetroBundler">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metro/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/metro">Github</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Facebook Open Source Logo" src="/metro/img/oss_logo.png"></div>Copyright © 2020 Facebook Inc. Built with Docusaurus.</div></div></footer>
</div>

<script src="/metro/styles.0a5cfff3.js"></script>

<script src="/metro/runtime~main.b7bebeca.js"></script>

<script src="/metro/main.45dbcf7f.js"></script>

<script src="/metro/common.af8ae9f7.js"></script>

<script src="/metro/2.76f40423.js"></script>

<script src="/metro/3.458078c5.js"></script>

<script src="/metro/1be78505.43631cc6.js"></script>

<script src="/metro/6ff30275.511f9ef1.js"></script>

<script src="/metro/17896441.ad6804dc.js"></script>

<script src="/metro/ba2a2799.a3f9acfe.js"></script>


</body>
</html>