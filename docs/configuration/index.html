<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/metro/blog/rss.xml" title="Metro Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metro/blog/atom.xml" title="Metro Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44373548-17"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-44373548-17",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Metro" href="/metro/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Configuring Metro | Metro</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://facebook.github.io/metro/img/opengraph.png"><meta data-react-helmet="true" name="twitter:image" content="https://facebook.github.io/metro/img/opengraph.png"><meta data-react-helmet="true" property="og:url" content="https://facebook.github.io/metro/docs/configuration"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuring Metro | Metro"><meta data-react-helmet="true" name="description" content="A Metro config can be created in these three ways (ordered by priority):"><meta data-react-helmet="true" property="og:description" content="A Metro config can be created in these three ways (ordered by priority):"><link data-react-helmet="true" rel="shortcut icon" href="/metro/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://facebook.github.io/metro/docs/configuration"><link data-react-helmet="true" rel="alternate" href="https://facebook.github.io/metro/docs/configuration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://facebook.github.io/metro/docs/configuration" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://T38HJZTD87-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/metro/assets/css/styles.b672437f.css">
<link rel="preload" href="/metro/assets/js/runtime~main.ad6b4696.js" as="script">
<link rel="preload" href="/metro/assets/js/main.4c2bd993.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#20232a;color:#fff" role="banner"><div class="announcementBarContent_3EUC">Support Ukraine ðŸ‡ºðŸ‡¦ <a target="_blank" rel="noopener noreferrer" href="https://opensource.facebook.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metro/"><img src="/metro/img/metro.svg" alt="Metro Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/metro/img/metro.svg" alt="Metro Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Metro</b></a><a class="navbar__item navbar__link" href="/metro/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/metro/docs/api">API</a><a class="navbar__item navbar__link" href="/metro/help">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://twitter.com/MetroBundler" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/facebook/metro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/metro/docs/api">API</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/metro/docs/configuration">Configuring Metro</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/metro/docs/cli">Metro CLI Options</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deep Dives</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_1lV3"><div class="docItemContainer_zt2Y"><article><header><h1 class="docTitle_1y8q">Configuring Metro</h1></header><div class="markdown"><p>A Metro config can be created in these three ways (ordered by priority):</p><ol><li><code>metro.config.js</code></li><li><code>metro.config.json</code></li><li>The <code>metro</code> field in <code>package.json</code></li></ol><p>You can also give a custom file to the configuration by specifying <code>--config &lt;path/to/config&gt;</code> when calling the CLI.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When Metro is started via the React Native CLI, some defaults are different from those mentioned below.
See the <a href="https://github.com/react-native-community/cli/blob/master/packages/cli-plugin-metro/src/tools/loadMetroConfig.ts" target="_blank" rel="noopener noreferrer">React Native repository</a> for details.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="configuration-structure"></a>Configuration Structure<a class="hash-link" href="#configuration-structure" title="Direct link to heading">#</a></h2><p>The configuration is based on <a href="/metro/docs/concepts">our concepts</a>, which means that for every module we have a separate config option. A common configuration structure in Metro looks like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolver</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">transformer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">serializer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">server</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="general-options"></a>General Options<a class="hash-link" href="#general-options" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="cachestores"></a><code>cacheStores</code><a class="hash-link" href="#cachestores" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;CacheStore&lt;TransformResult&lt;&gt;&gt;&gt;</code></p><p>List where we store our <a href="/metro/docs/caching">caches</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="cacheversion"></a><code>cacheVersion</code><a class="hash-link" href="#cacheversion" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>Can be used to generate a key that will invalidate the whole metro cache.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="projectroot"></a><code>projectRoot</code><a class="hash-link" href="#projectroot" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>The root folder of your project.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="watchfolders"></a><code>watchFolders</code><a class="hash-link" href="#watchfolders" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>Specify any additional (to projectRoot) watch folders, this is used to know which files to watch.
(By default the file watching is disabled in CI environments. Also it can be manually disabled by setting the env variable <code>CI=true</code>)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="transformerpath"></a><code>transformerPath</code><a class="hash-link" href="#transformerpath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>The absolute path of a module (or a package name resolvable from the <code>metro</code> package) exporting a <code>transform</code> function.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="reporter"></a><code>reporter</code><a class="hash-link" href="#reporter" title="Direct link to heading">#</a></h4><p>Type: <code>{update: () =&gt; void}</code></p><p>Used to report the status of the bundler during the bundling process.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="resetcache"></a><code>resetCache</code><a class="hash-link" href="#resetcache" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code></p><p>Whether we should reset the cache when starting the build.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="stickyworkers"></a><code>stickyWorkers</code><a class="hash-link" href="#stickyworkers" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code></p><p>Control whether the created workers should stick based on filename or not.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="maxworkers"></a><code>maxWorkers</code><a class="hash-link" href="#maxworkers" title="Direct link to heading">#</a></h4><p>Type: <code>number</code></p><p>The number of workers we should parallelize the transformer on.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="hastemapcachedirectory"></a><code>hasteMapCacheDirectory</code><a class="hash-link" href="#hastemapcachedirectory" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>The path to the haste map cache directory, defaults to <code>os.tmpdir()</code>.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="resolver-options"></a>Resolver Options<a class="hash-link" href="#resolver-options" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="assetexts"></a><code>assetExts</code><a class="hash-link" href="#assetexts" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>An array of asset extensions to include in the bundle. For example, if you would give <code>[&#x27;ttf&#x27;]</code> you would be able to include <code>.ttf</code> files in the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="sourceexts"></a><code>sourceExts</code><a class="hash-link" href="#sourceexts" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>An array of source extensions to include in the bundle. For example, if you would give <code>[&#x27;ts&#x27;]</code> you would be able to include <code>.ts</code> files in the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="resolvermainfields"></a><code>resolverMainFields</code><a class="hash-link" href="#resolvermainfields" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>Specify the fields in package.json files that will be used by the module resolver to do redirections when requiring certain packages. The default is <code>[&#x27;browser&#x27;, &#x27;main&#x27;]</code>, so the resolver will use the <code>browser</code> field if it exists and <code>main</code> otherwise.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When Metro is started via the React Native CLI this will default to <code>[&#x27;react-native&#x27;, &#x27;browser&#x27;, &#x27;main&#x27;]</code>.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="disablehierarchicallookup"></a><code>disableHierarchicalLookup</code><a class="hash-link" href="#disablehierarchicallookup" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code></p><p>Whether to disable <a href="https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders" target="_blank" rel="noopener noreferrer">looking up modules in <code>node_modules</code> folders</a>. This only affects the default search through the directory tree, not other Metro options like <code>extraNodeModules</code> or <code>nodeModulesPaths</code>. Defaults to <code>false</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="emptymodulepath"></a><code>emptyModulePath</code><a class="hash-link" href="#emptymodulepath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>What module to use as the canonical &quot;empty&quot; module when one is needed. Defaults to using the one included in <code>metro-runtime</code>. You only need to change this if Metro is installed outside of your project.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="extranodemodules"></a><code>extraNodeModules</code><a class="hash-link" href="#extranodemodules" title="Direct link to heading">#</a></h4><p>Type: <code>{[name:string]:string}</code></p><p>Which other <code>node_modules</code> to include besides the ones relative to the project directory. This is keyed by dependency name.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="nodemodulespaths"></a><code>nodeModulesPaths</code><a class="hash-link" href="#nodemodulespaths" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>This option can be used to add additional <code>node_modules</code> folders for Metro to locate third-party dependencies when resolving modules. This is useful if third-party dependencies are installed in a different location outside of the direct path of source files.</p><p>This option works similarly to how <a href="https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders" target="_blank" rel="noopener noreferrer">$NODE_PATH</a> works for Node.js based tooling, except that <code>nodeModulesPaths</code> takes precedence over hierarchical <code>node_modules</code> lookup.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="resolverequest"></a><code>resolveRequest</code><a class="hash-link" href="#resolverequest" title="Direct link to heading">#</a></h4><p>Type: <code>?CustomResolver</code></p><p>An optional function used to resolve requests. Particularly useful for cases where aliases or custom protocols are used. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">resolveRequest</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> moduleName</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">moduleName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">startsWith</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my-custom-resolver:&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Resolve file path logic...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// NOTE: Throw an error if there is no resolution.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">filePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path/to/file&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sourceFile&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Optionally, chain to the standard Metro resolver.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">resolveRequest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> moduleName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="usewatchman"></a><code>useWatchman</code><a class="hash-link" href="#usewatchman" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code></p><p>If set to <code>false</code>, it&#x27;ll prevent Metro from using watchman (even if it&#x27;s installed)</p><p>These options are only useful with React Native projects.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="blocklist"></a><code>blockList</code><a class="hash-link" href="#blocklist" title="Direct link to heading">#</a></h4><p>Type: <code>RegExp</code> or <code>Array&lt;RegExp&gt;</code></p><p>A RegEx defining which paths to ignore, however if a blocklisted file is required it will be brought into the dependency graph.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="hasteimplmodulepath"></a><code>hasteImplModulePath</code><a class="hash-link" href="#hasteimplmodulepath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>The path to the haste resolver.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="platforms"></a><code>platforms</code><a class="hash-link" href="#platforms" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>Additional platforms to look out for, For example, if you want to add a &quot;custom&quot; platform, and use modules ending in .custom.js, you would return [&#x27;custom&#x27;] here.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="transformer-options"></a>Transformer Options<a class="hash-link" href="#transformer-options" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="asyncrequiremodulepath"></a><code>asyncRequireModulePath</code><a class="hash-link" href="#asyncrequiremodulepath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>What module to use for handling async requires.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="babeltransformerpath"></a><code>babelTransformerPath</code><a class="hash-link" href="#babeltransformerpath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>Use a custom babel transformer (only relevant when using the default transformerPath). For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// in your babelTransformer file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> filename</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> options</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> plugins</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> src </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// transform file...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token literal-property property">ast</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">AST</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="dynamicdepsinpackages"></a><code>dynamicDepsInPackages</code><a class="hash-link" href="#dynamicdepsinpackages" title="Direct link to heading">#</a></h4><p>Type: <code>string</code> (<code>throwAtRuntime</code> or <code>reject</code>)</p><p>What should happen when a dynamic dependency is found.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="enablebabelrclookup"></a><code>enableBabelRCLookup</code><a class="hash-link" href="#enablebabelrclookup" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code> (default: <code>true</code>)</p><p>Whether we should use the <code>.babelrc</code> config file.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="enablebabelruntime"></a><code>enableBabelRuntime</code><a class="hash-link" href="#enablebabelruntime" title="Direct link to heading">#</a></h4><p>Type: <code>boolean | string</code> (default: <code>true</code>)</p><p>Whether the transformer should use the <code>@babel/transform/runtime</code> plugin.</p><p>If the value is a string, it is treated as a runtime version number and passed as <code>version</code> to the <code>@babel/plugin-transform-runtime</code> configuration. This allows you to optimize the generated babel runtime based on the
runtime in the app&#x27;s node modules confugration.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="gettransformoptions"></a><code>getTransformOptions</code><a class="hash-link" href="#gettransformoptions" title="Direct link to heading">#</a></h4><p>Type: <code>GetTransformOptions</code></p><p>Get the transform options.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="hermesparser"></a><code>hermesParser</code><a class="hash-link" href="#hermesparser" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code> (default: <code>false</code>)</p><p>Use the hermes-parser package to use call Hermes parser via WASM instead of the Babel parser.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="minifierpath"></a><code>minifierPath</code><a class="hash-link" href="#minifierpath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>Path to the minifier that minifies the code after transformation.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="minifierconfig"></a><code>minifierConfig</code><a class="hash-link" href="#minifierconfig" title="Direct link to heading">#</a></h4><p>Type: <code>{[key: string]: mixed}</code></p><p>Configuration object that will be passed to the minifier (it should be serializable).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="optimizationsizelimit"></a><code>optimizationSizeLimit</code><a class="hash-link" href="#optimizationsizelimit" title="Direct link to heading">#</a></h4><p>Type: <code>number</code></p><p>Define a threshold (in bytes) to disable some expensive optimizations for big files.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="react-native-only"></a>React Native Only<a class="hash-link" href="#react-native-only" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="assetplugins"></a><code>assetPlugins</code><a class="hash-link" href="#assetplugins" title="Direct link to heading">#</a></h4><p>Type: <code>Array&lt;string&gt;</code></p><p>List of modules to call to modify Asset data</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="assetregistrypath"></a><code>assetRegistryPath</code><a class="hash-link" href="#assetregistrypath" title="Direct link to heading">#</a></h4><p>Type: <code>string</code></p><p>Where to fetch the assets from.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="serializer-options"></a>Serializer Options<a class="hash-link" href="#serializer-options" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="getrunmodulestatement"></a><code>getRunModuleStatement</code><a class="hash-link" href="#getrunmodulestatement" title="Direct link to heading">#</a></h4><p>Type: <code>(number</code> | <code>string) =&gt; string</code></p><p>Specify the format of the initial require statements that are appended at the end of the bundle. By default is <code>__r(${moduleId});</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="createmoduleidfactory"></a><code>createModuleIdFactory</code><a class="hash-link" href="#createmoduleidfactory" title="Direct link to heading">#</a></h4><p>Type: <code>() =&gt; (path: string) =&gt; number</code></p><p>Used to generate the module id for <code>require</code> statements.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="getpolyfills"></a><code>getPolyfills</code><a class="hash-link" href="#getpolyfills" title="Direct link to heading">#</a></h4><p>Type: <code>({platform: ?string}) =&gt; $ReadOnlyArray&lt;string&gt;</code></p><p>An optional list of polyfills to include in the bundle. The list defaults to a set of common polyfills for Number, String, Array, Object...</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="postprocessbundlesourcemap"></a><code>postProcessBundleSourcemap</code><a class="hash-link" href="#postprocessbundlesourcemap" title="Direct link to heading">#</a></h4><p>Type: <code>PostProcessBundleSourcemap</code></p><p>An optional function that can modify the code and source map of the bundle before it is written. Applied once for the entire bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="getmodulesrunbeforemainmodule"></a><code>getModulesRunBeforeMainModule</code><a class="hash-link" href="#getmodulesrunbeforemainmodule" title="Direct link to heading">#</a></h4><p>Type: <code>(entryFilePath: string) =&gt; Array&lt;string&gt;</code></p><p>An array of modules to be required before the entry point. It should contain the absolute path of each module. Note that this will add the additional require statements only if the passed modules are already included as part of the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="processmodulefilter"></a><code>processModuleFilter</code><a class="hash-link" href="#processmodulefilter" title="Direct link to heading">#</a></h4><p>Type: <code>(module: Array&lt;Module&gt;) =&gt; boolean</code></p><p>A filter function to discard specific modules from the output.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="server-options"></a>Server Options<a class="hash-link" href="#server-options" title="Direct link to heading">#</a></h3><p>These options are used when Metro serves the content.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="port"></a><code>port</code><a class="hash-link" href="#port" title="Direct link to heading">#</a></h4><p>Type: <code>number</code></p><p>Which port to listen on.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="useglobalhotkey"></a><code>useGlobalHotkey</code><a class="hash-link" href="#useglobalhotkey" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code></p><p>Whether we should enable CMD+R hotkey for refreshing the bundle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="enhancemiddleware"></a><code>enhanceMiddleware</code><a class="hash-link" href="#enhancemiddleware" title="Direct link to heading">#</a></h4><p>Type: <code>(Middleware, Server) =&gt; Middleware</code></p><p>The possibility to add custom middleware to the server response chain.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="rewriterequesturl"></a><code>rewriteRequestUrl</code><a class="hash-link" href="#rewriterequesturl" title="Direct link to heading">#</a></h4><p>Type: <code>string =&gt; string</code></p><p>A function that will be called every time Metro processes a URL. Metro will use the return value of this function as if it were the original URL provided by the client. This applies to all incoming HTTP requests (after any custom middleware), as well as bundle URLs in <code>/symbolicate</code> request payloads and within the hot reloading protocol.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="runinspectorproxy"></a><code>runInspectorProxy</code><a class="hash-link" href="#runinspectorproxy" title="Direct link to heading">#</a></h4><p>Type: <code>boolean</code> (default: <code>true</code>)</p><p>Run Inspector Proxy server inside Metro to be able to inspect React Native code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="merging-configurations"></a>Merging Configurations<a class="hash-link" href="#merging-configurations" title="Direct link to heading">#</a></h2><p>Using the <code>metro-config</code> package it is possible to merge multiple configurations together.</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>mergeConfig(...configs): MergedConfig</code></td><td>Returns the merged configuration of two or more configuration objects.</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Arrays and function based config parameters do not deeply merge and will instead override any pre-existing config parameters.
This allows overriding and removing default config parameters such as <code>platforms</code> or <code>getModulesRunBeforeMainModule</code> that may not be required in your environment.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="merging-example"></a>Merging Example<a class="hash-link" href="#merging-example" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// metro.config.js</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> mergeConfig </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;metro-config&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> configA </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolver</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">transformer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">serializer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">server</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> configB </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolver</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">transformer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">serializer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">server</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mergeConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">configA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> configB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><span class="theme-last-updated">Last updated on <b><time datetime="2022-05-10T12:59:39.000Z">5/10/2022</time></b></span></div><br><div class="row"><div class="col"><a href="https://github.com/facebook/metro/edit/main/docs/../docs/Configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metro/docs/api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metro/docs/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Metro CLI Options Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration-structure" class="table-of-contents__link">Configuration Structure</a><ul><li><a href="#general-options" class="table-of-contents__link">General Options</a></li><li><a href="#resolver-options" class="table-of-contents__link">Resolver Options</a></li><li><a href="#transformer-options" class="table-of-contents__link">Transformer Options</a></li><li><a href="#serializer-options" class="table-of-contents__link">Serializer Options</a></li><li><a href="#server-options" class="table-of-contents__link">Server Options</a></li></ul></li><li><a href="#merging-configurations" class="table-of-contents__link">Merging Configurations</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metro/docs/getting-started">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/metro/docs/api">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/metrojs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/MetroBundler" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/metro" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/metro/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/metro/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Facebook Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/metro/assets/js/runtime~main.ad6b4696.js"></script>
<script src="/metro/assets/js/main.4c2bd993.js"></script>
</body>
</html>